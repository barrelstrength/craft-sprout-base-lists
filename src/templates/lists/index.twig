{% extends "sprout-base-lists/_layouts/elementindex" %}

{% set title = "Lists"|t('sprout-base-lists') %}
{% set elementType = 'barrelstrength\\sproutbaselists\\elements\\ListElement' %}

{% block actionButton %}
    <div class="buttons">
        <a class="btn submit add icon"
           href="{{ cpUrl(listBaseUrl~'new') }}">{{ "New Mailing List"|t('sprout-base-lists') }}</a>
    </div>
{% endblock %}

{% block initJs %}
    // Pass segment to the ListQuery class to filter notification entries
    var params = {
    'listBaseUrl': '{{ listBaseUrl }}'
    };
    var criteria = Craft.defaultIndexCriteria;

    criteria.listBaseUrl = params.listBaseUrl;

    Craft.elementIndex = Craft.createElementIndex('{{ elementType|e("js") }}', $('#main'), {
    context:        '{{ context }}',
    storageKey:     'elementindex.{{ elementType|e("js") }}',
    criteria:       criteria
    });
{% endblock %}